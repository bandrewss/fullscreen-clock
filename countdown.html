<!DOCTYPE html>
<!-- saved from url=(0082)https://www.nayuki.io/res/full-screen-clock-javascript/full-screen-clock-12hr.html -->
<html style="height: 100%; margin: 0px; padding: 0px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

		<title>Countdown</title>
		<style type="text/css">
			/* Customizable font and colors */
			html {
				background: #000000;
				font-family: sans-serif;
				font-weight: bold;
				color: #FFFFFF;
			}
		</style>
	</head>

	<body style="display: flex; height: 100%; margin: 0px; padding: 0px; justify-content: center; align-items: center; background: rgb(23, 23, 23) !important;">

		<div>
			<form id="timerForm" onsubmit="setTimer(); return false">
				<input id="minute" type="text">
				<input id="second" type="text">
				<input id="submit" type="submit" value="Set Timer">
			</form>

			<button onclick="startTimer();">Start Timer</button>
		</div>

		<div>
			<span id="countMinutes" style="font-kerning: none; font-size: 297pt;">11</span>
			<span id="colon" style="font-kerning: none; font-size: 297pt;">:</span>
			<span id="countSeconds" style="font-kerning: none; font-size:297pt">15</span>
		</div>

		<script type="text/javascript">
			"use strict";

			var timerForm = document.getElementById("timerForm");
			var countMinutes = document.getElementById("countMinutes");
			var countSeconds = document.getElementById("countSeconds");

			var currentTime = 0;
			var timerTime = 1;

			var targetWidth = 0.9;  // Proportion of full screen width
			var curFontSize = 20;  // Do not change

			function setTimer() {
				console.log("AM HERE");

				var minutes = timerForm["minute"].value;
				var seconds = timerForm["second"].value;

				setDisplay(minutes, seconds);

				return false;
			}

			function setDisplay(min, sec) {
				countMinutes.innerHTML = (min < 10) ? "0" + min : min;
				countSeconds.innerHTML = (sec < 10) ? "0" + sec : sec;
			}

			function updateTimer() {
				var numSeconds = parseInt(countSeconds.innerHTML);
				var numMinutes = parseInt(countMinutes.innerHTML);

				if( numSeconds === 0 ) {
					numSeconds = 59;
					numMinutes -= 1;
				} else {
					numSeconds -= 1;
				}

				setDisplay(numMinutes, numSeconds);
				return numSeconds === 0 && numMinutes === 0;
			}

			function timer() {
				var d = new Date();
				var done = false;

				currentTime = Date.now() / 1000 | 0;

				if(currentTime > timerTime) {
					done = updateTimer();
					timerTime = currentTime;
				}

				if( !done ) {
					setTimeout(timer, 1000 - (Date.now() % 1000));
				}
			}

			function startTimer() {
				var currentMilli = (Date.now() % 1000);
				timerTime = Date.now() / 1000 | 0;

				setTimeout(timer(), 1500 - currentMilli)
			}

		</script>


</body><link type="text/css" id="dma-temp-global-css" class="dmn-custom-append-data" rel="stylesheet" href="chrome-extension://bhbekkddpbpbibiknkcjamlkhoghieie/css/global-new.css"><link type="text/css" id="dma-universal-css" class="dmn-custom-append-data" rel="stylesheet" href="chrome-extension://bhbekkddpbpbibiknkcjamlkhoghieie/css/universal.css"></html>
